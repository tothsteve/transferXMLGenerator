[phases.setup]
nixPkgs = ["nodejs-18_x"]

[phases.install]
cmds = [
  "npm ci --prefer-offline --no-audit --silent --no-fund --no-optional"
]
cacheDirectories = [".npm", "node_modules"]

[phases.build]
cmds = [
  "./railway-build.sh"
]
cacheDirectories = ["node_modules/.cache", "build"]

[start]
cmd = "npm run serve"